<script th:if="${theme.config.plugins.swiper}">
    window.addEventListener('DOMContentLoaded', (event) => {
        const swiper_api = document.getElementById('swiper-api');
        if (swiper_api != undefined) {
            utils.css('[(@{/assets/libs/swiper/swiper-bundle.min.css?v=10.3.1})]');
            utils.js('[(@{/assets/libs/swiper/swiper-bundle.min.js?v=10.3.1})]', { defer: true }).then(function () {
                const effect = swiper_api.getAttribute('effect') || '';
                var swiper = new Swiper('.swiper#swiper-api', {
                    slidesPerView: 'auto',
                    spaceBetween: 8,
                    centeredSlides: true,
                    effect: effect,
                    rewind: true,
                    pagination: {
                        el: '.swiper-pagination',
                        clickable: true,
                    },
                    navigation: {
                        nextEl: '.swiper-button-next',
                        prevEl: '.swiper-button-prev',
                    },
                });
            })
        }
    });
</script>